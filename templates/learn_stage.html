{% extends "base.html" %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/learn_stage.css') }}">
{% endblock %}

{% block content %}
<div class="stage-container">
    <h2>Stage {{ stage_num }}: {{ stage_name }}</h2>
    <p><em>{{ stage_description }}</em></p>

    <div class="media">
        {% if stage.media_type == "video" %}
            <iframe
                width="560"
                height="315"
                src="https://www.youtube.com/embed/{{ stage.video_id }}?start={{ stage.start }}&end={{ stage.end }}&rel=0"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
            </iframe>
        {% elif stage.media_type == "image" %}
            <img src="{{ stage.media_url }}" alt="{{ stage.name }}" width="560">
        {% endif %}
    </div>

    <p class="caption">{{ stage.caption }}</p>

    <a href="{{ url_for('learn_diagram', movie_key=movie_key) }}" class="back-to-diagram">Back to Diagram</a>
</div>
{% endblock %}